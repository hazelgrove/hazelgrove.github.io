<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Hazel is a live functional programming environment featuring typed holes.">

<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

    <title>Hazel, a live functional programming environment featuring typed holes.</title>

    <style>
        * { box-sizing: border-box; }
  
        body {
          margin: 0px;
          background-color: wheat;
          font-family: Arial, sans-serif; /* Oxygen */
          padding: 0px !important;
        }

        .header {
          font-family: Montserrat, sans-serif;
          width: 100%;
          padding-top: 20px;
          padding-bottom: 20px;
          padding-left: 20px;
          font-size: 125%;
          background-color: #073f24; 
          color: white
        }

        h1, h2, h3, h4, h5, h6 {
          font-family: Montserrat, sans-serif;
        }

        .tagline {
          font-size: 14pt;
          font-weight: normal;
        }

        .tagline strong {
          font-weight: bold;
        }

        #tagline-1 {
          color: #e0f7c5;
        }

        #tagline-2 {
          color: #fceac5
        }

        .main-area {
          padding: 20px;
          display: grid;
          grid-template-columns: 1fr 350px;
          grid-column-gap: 12px;
          max-width: 1080px;
        }

        @media screen and (max-width: 800px) {
          .main-area {
            grid-template-columns: 1fr;
          }
        }

        .card {
          background-color: white;
          padding: 15px;
          border-radius: 5px;
          border: 1px solid tan;
          box-shadow: 0px 2px tan;
          font-size: 11pt;

          margin-bottom: 12px;
        }

        p {
          font-family: Arial, sans-serif;
          margin-top: 0px;
          margin-bottom: 10px;
          line-height: 1.4;
        }

        ul {
          line-height: 1.4;
        }

        .contributor-list {
          margin-top: 0px;
          margin-left: -20px;
        }

        .news-list {
          padding-left: 0px;
          margin-bottom: -10px;
        }

        .news-item {
          margin-bottom: 10px;
        }

        .date {
          color: #999;
          font-weight: normal;
          margin-bottom: 3px;
        }

        a { 
          color: #337ab7;
          text-decoration: none;
        }

        .major-paper {
          font-weight: bold;
        }

        h1 {
            margin-top: 0px !important;
            margin-bottom: 0px !important;
            font-weight: bold;
            font-size: 20pt;
        }

        h2 {
          margin-top: 0px !important;
          padding-bottom: 5px;
          font-weight: bold;
          text-transform: uppercase; 
          font-size: 110%;
          color: #444;
          border-bottom: 1px solid #DDD;
          margin-bottom: 10px;
        }

        h3 {
          margin-top: 12px;
          margin-bottom: 5px;
          font-weight: bold;
          font-size: 105%;
          color: #444;
        }

        h4 {
          margin-top: 12px;
          margin-bottom: 5px;
          font-weight: bold;
          font-size: 90%;
          color: #777;
        }

        .btn {
          padding: 15px;
          background-color: purple;
          color: white;
          display: block;
          width: 100%;
          text-align: center;
          border-radius: 5px;
          text-decoration: none;
          font-family: Montserrat, sans-serif;
          font-weight: bold;
        }

        .source-link {
          margin-bottom: 0px;
        }

        .source-link a {
          text-decoration: none;
        }

        .source-link img {
          vertical-align: middle;
          position: relative;
          top: -2px;
          margin-right: 2px;
        }
    </style>
  </head>

  <body>
    <div class="header">
      <h1>Hazel <span class="tagline">is a <strong id="tagline-1">live functional programming environment</strong> featuring <strong id="tagline-2">typed holes</strong>.</span></h1>
    </div>
    <div class="main-area">
      <div class="left-col">
        <div class="card" id="about">
          <h2>Project Summary</h2>
          <p>
          When programming, we spend a substantial amount of our time working on programs
          that are not yet complete. For example, there can be blank spots, type errors or merge conflicts at multiple locations in the program.  
          Conventional programming language definitions assign no formal meaning to incomplete programs like these, so development tools have no choice but to resort to ad hoc heuristics to 
          provide various useful language services without interruption, including code completion, type inspection, code navigation, and live programming and debugging services.
          </p>

          <p>
          We are working to develop a more principled approach to working with incomplete programs, rooted in the first principles of type theory.
          We model incomplete programs as programs with <em>holes</em>, which (1) stand for parts of the program that are missing; and (2) serve as membranes
          around parts of the program that are erroneous or, in the collaborative setting, conflicted. 
          </p>

          <p>
          We are incorporating our research results into <strong>Hazel</strong>, a web-based programming environment for an <a href="http://elm-lang.org/">Elm</a>-like functional language. Hazel is designed from the ground up to support typed hole-driven development.</p>

          <!-- 
          <p class="col-md-12">
          Uniquely, each and every editor state that you can reach within Hazel is both <em>statically</em> and <em>dynamically</em> well-defined, i.e. it has
          a (possibly incomplete) type, and you can run it to produce a (possibly incomplete) result. This substantially simplifies the design of a 
          number of powerful editor services, and it substantially tightens the feedback loop between the programmer and the programming environment. 
          Put pithily, Hazel is as live as it gets!
          </p>
          -->

          <p>The following paper describes this research vision in more detail.            <ul>
              <li>
                <a class="major-paper" href="https://arxiv.org/pdf/1703.08694">Toward Semantic Foundations for Program Editors</a> (SNAPL, May 2017)
              </li>
              <li>
                <a href="./hazel-snapl17.pdf">Slides</a>
              </li>
            </ul>
          </p>
        </div>
        <div class="card" id="hazelnut-popl17">
          <h2>Research Result: Hazelnut (POPL 2017)</h2>
      <p>To start, we have developed a core calculus, called <strong>Hazelnut</strong>, that provides 1) a type system for expressions with holes in both expression and type position, and 2) a language of type-aware structured edit actions that insert holes automatically.</p>
          <h4>Research Paper</h4>
      <p>The following research paper, published at POPL 2017, details Hazelnut.</p>
            <ul>
                <li>
                    <a class="major-paper" href="https://arxiv.org/pdf/1607.04180">Hazelnut: A Bidirectionally Typed Structure Editor Calculus</a> (POPL, Jan. 2017 [<a href="./hazelnut-popl17.bib">.bib</a>])
                </li>
                <li><a href="./hazelnut-popl17-talk.pdf">Slides</a></li>
            </ul>

          <h4>Mechanization</h4>
      <p>We have <a href="https://github.com/hazelgrove/agda-popl17">mechanized the metatheory of Hazelnut</a> using the <a href="http://wiki.portal.chalmers.se/agda/pmwiki.php">Agda</a> proof assistant.</p>

          <h4>Implementation</h4>
      <p>HZ is a very simple reference implementation of Hazelnut, written in OCaml and compiled to JavaScript using <a href="https://ocsigen.org/js_of_ocaml/">js_of_ocaml</a>. Hazel is derived from HZ.</p>
      <ul>
        <li><a href="HZ/hz.html">Play with HZ online</a></li>
        <li><a href="https://github.com/hazelgrove/HZ">Source code on GitHub</a></li>
      </ul>
    </div>
    <div class="card" id="hazelnut-live">
        <h2>Draft Paper: Hazelnut Live</h2>
        <p>  
        We are now working to understand, from type-theoretic first principles, how we might evaluate the programs with holes that Hazelnut produces (without simply stopping at the first hole), and how we might granularly interleave editing with evaluation (i.e. live programming). The goal is for us to be able to provide both static and dynamic feedback to the programmer about <em>every possible editor state</em> in Hazel.</p>
              <h4>Research Paper</h4>
              <p>The following research paper details how we achieve this goal by borrowing machinery from both gradual type theory and contextual modal type theory.</p>
              <ul>
                <li><a class="major-paper" href="https://arxiv.org/pdf/1805.00155">Live Functional Programming with Typed Holes</a> (draft paper, April 2018)</li>
              </ul>
              <h4>Mechanization</h4>
              <p>We have <a href="https://github.com/hazelgrove/hazelnut-dynamics-agda">mechanized the metatheory of Hazelnut Live</a> using the Agda proof assistant.</p>
              <h4>Implementation</h4>
              <p>We have implemented the features described in the paper in Hazel.</p>
              <h4>LIVE 2017 Presentation</h4>
              <p>Cyrus presented some of this work at the <a href="https://2017.splashcon.org/track/live-2017#About">LIVE 2017</a> workshop.</p>
              <ul>
                <li><a href="./hazelnut-dynamics-LIVE2017.pdf">Toward a Live Stepper for Typed Expressions with Holes</a> (Extended Abstract, LIVE 2017)</li>
        <li><a href="./live-2017.pdf">Slides</a></li>
              </ul>
        <h4>OBT 2017 Presentation</h4>
        Ian presented a much earlier take on this work at the Off the Beaten Track (OBT) workshop at POPL 2017. 
        <ul>
          <li>
            <a href="http://www.cs.cmu.edu/~iev/resources/dynamics-obt17.pdf">Running Incomplete Programs</a> (Extended Abstract, OBT 2017)
          </li>
          <li><a href="http://www.cs.cmu.edu/~iev/resources/obt17-slides.pdf">Annotated slides</a></li>
        </div>

        <div class="card">
          <h2>Incubating Ideas</h2>
          <p>We have a number of ideas incubating &mdash; if you're interested in any of these, definitely get in touch. We would also love to hear about other ideas you might have.</p>
          <div class="ideas">
            <div class="idea">
              <h4>Collaborative Editing</h4>
              <p>We are thinking about how to specify an edit action semantics that obeys the invariants necessary to make a Hazelnut program a <a href="http://christophermeiklejohn.com/crdt/2014/07/22/readings-in-crdts.html">conflict-free replicated data type (CRDT)</a>.</p>
            </div>
            <div class="idea">
              <h4>Programming by Direct Manipulation of GUIs with Typed Holes</h4>
              <p>We are thinking about how to integrate GUIs directly into Hazel expressions, and how to integrate Hazel expressions directly into GUIs.</p>
            </div>
            <div class="idea">
              <h4>Edit-Time Macros</h4>
              <p>We are thinking about how to use Hazel to programmatically control Hazel.</p>
            </div>
            <div class="idea">
              <h4>Edit Action Synthesis and Suggestion</h4>
              <p>We are thinking about how to suggest useful edit action suggestions for the programmer, using both semantic constraints and machine learning.</p>
            </div>
            <div class="idea">
              <h4>Applications</h4>
              <p>As Hazel evolves, we plan to apply it first to teach introductory functional programming courses, and later on we plan to use Hazel to do data analysis, music and visual art. One day, we hope that Hazel will be the foundation for a new kind of programmable wiki.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="right-col">
        <div class="card" id="try-it">
          <p><a href="hazel/hazel.html" class="btn" style="background-color: #78184A; border-color: purple;">Play with Hazel</a></p>
          <p style="padding-left: 5px; padding-right: 5px" class="source-link">
          <a href="https://github.com/hazelgrove/hazel"><img width="20" height="20" src="imgs/GitHub/GitHub-Mark/PNG/GitHub-Mark-32px.png"> Source code on GitHub</a> <!-- (<a href="https://reasonml.github.io/">Reason</a>/<a href="http://ocaml.org/">OCaml</a> + <a href="https://coq.inria.fr/">Coq</a>, compiled using <a href="https://ocsigen.org/js_of_ocaml/">js_of_ocaml</a>) -->
          </p>
        </div>
        <div class="card" id="contributors">
          <h2>Contributors</h2>
    <ul class="contributor-list">
      <li><a href="http://www.cs.cmu.edu/~comar/">Cyrus Omar</a>, UChicago</li>
      <li><a href="http://www.cs.cmu.edu/~iev/">Ian Voysey</a>, CMU</li>
      <li><a href="http://matthewhammer.org/">Matthew A. Hammer</a>, CU Boulder</li>
      <li><a href="http://people.cs.uchicago.edu/~rchugh/">Ravi Chugh</a>, UChicago</li>

      <li><a href="http://www.cs.cmu.edu/~mhilton/">Michael Hilton</a>, CMU</li> 

      <li><a href="https://github.com/bkase">Brandon Kase</a></li>
      <li><a href="https://github.com/nickcollins">Nick Collins</a>, UChicago</li>
    </ul>
                    If you're interested in working on Hazel, in any capacity, get in touch!

        </div>

        <div class="card" id="news">
          <h2>News</h2>
          <div class="news-list">
            <div class="news-item">
              <div class="date">Apr 2018</div>
              <div class="news-text">A <a href="https://arxiv.org/pdf/1805.00155">draft paper on live programming</a> is available.</div>
            </div>
            <div class="news-item">
              <div class="date">Jan 2018</div>
              <div class="news-text">Cursor movement in Hazel is now textual!</div>
            </div>
            <div class="news-item">
              <div class="date">Oct 2017</div>
              <div class="news-text">Cyrus gave <a href="./live-2017.pdf">a talk</a> about live programming in Hazel at the <a href="https://2017.splashcon.org/track/live-2017#About">LIVE workshop</a> at <a href="https://2017.splashcon.org">SPLASH</a>.</div>
            </div>
            <div class="news-item">
              <div class="date">Sep 2017</div>
              <div class="news-text">Cyrus moved from CMU to UChicago to start a postdoc with Ravi.</div>
            </div>
            <div class="news-item">
              <div class="date">May 2017</div>
              <div class="news-text">Cyrus and Matthew attended <a href="http://snapl.org">SNAPL</a> and <a href="./hazel-snapl17.pdf">talked</a> about <a href="https://arxiv.org/pdf/1703.08694">the vision for the Hazel project</a>.</div>
            </div>
            <div class="news-item">
              <div class="date">Jan 2017</div>
              <div class="news-text">Cyrus <a href="./hazelnut-popl17-talk.pdf">presented</a> the <a href="https://arxiv.org/pdf/1607.04180">Hazelnut paper</a> at <a href="http://popl17.sigplan.org/program/program-POPL-2017">POPL</a>.</div>
            </div>
          </div>
        </div>
        
        <div class="" id="hazel-eyes" style="display: flex; justify-content: center;
        flex-direction: column; margin-top: 30px">
        <script type="text/javascript" src="js/jseyes.js"></script>
        <div style="display: flex; justify-content: center;">
          <script type="text/javascript">
            myeyes= new jseyes();
            myeyes.main.img="imgs/hazel-logo.png";
            myeyes.eye1.img="imgs/jseyeblack.gif";
            myeyes.eye2.img="imgs/jseyeblack.gif";
            myeyes.write();
          </script>
        </div>
        <div>
        <p style="font-size: 7pt; opacity: 1; color: #888; text-align: center; margin-top: 15px">(h/t <a href="http://modgethanc.com/">Vincent Zeng</a>)</p>
        </div>
        </div>
      </div>
    </div>
  </body>
</html>
